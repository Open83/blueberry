<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>For My Saraaa ❤️</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>Heart</text></svg>">
  
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body { font-family: 'Segoe UI', sans-serif; background: linear-gradient(135deg, #fdf2f8, #fce7f3, #f9a8d4); min-height:100vh; color:#333; }
    .container { padding:20px; max-width:1200px; margin:0 auto; }
    .hidden { display:none !important; }
    .card { background:white; border-radius:30px; padding:30px; box-shadow:0 20px 50px rgba(236,72,153,0.3); text-align:center; }
    
    /* Lock Screen */
    .lock-screen { min-height:100vh; display:flex; align-items:center; justify-content:center; padding:20px; }
    .heart-pulse { width:80px; height:80px; color:#ec4899; animation:pulse 1.5s infinite; }
    .win-hearts { display:flex; justify-content:center; gap:20px; margin:30px 0; }
    .win-heart { width:60px; height:60px; background:#e5e7eb; border-radius:50%; transition:all 0.4s; }
    .win-heart.filled { background:#ec4899; animation:pulse 1.5s infinite; }
    
    .board { display:grid; grid-template-columns:repeat(3,1fr); gap:15px; margin:40px 0; }
    .cell { 
      aspect-ratio:1; background:linear-gradient(135deg, #fdf2f8, #fce7f3); 
      border-radius:25px; font-size:70px; font-weight:bold; 
      display:flex; align-items:center; justify-content:center;
      box-shadow:0 10px 30px rgba(0,0,0,0.1); cursor:pointer;
      border:6px solid #fce7f3; transition:all 0.3s;
    }
    .cell:hover { transform:scale(1.05); box-shadow:0 15px 40px rgba(236,72,153,0.3); }
    .cell.X { color:#ec4899; }
    .cell.O { color:#3b82f6; }
    
    .btn { 
      padding:18px 40px; background:linear-gradient(to right, #ec4899, #f43f5e); 
      color:white; border:none; border-radius:50px; font-size:24px; font-weight:bold;
      cursor:pointer; width:100%; margin-top:20px; transition:all 0.3s;
    }
    .btn:hover { transform:translateY(-3px); box-shadow:0 15px 30px rgba(236,72,153,0.4); }
    
    /* Navigation */
    .nav {
      position:fixed; bottom:0; left:0; right:0; background:white; 
      padding:15px 0; box-shadow:0 -10px 30px rgba(0,0,0,0.1); 
      display:flex; justify-content:space-around; z-index:1000;
      border-top:5px solid #ec4899;
    }
    .nav-btn {
      background:none; border:none; padding:12px; border-radius:50%;
      font-size:32px; cursor:pointer; transition:all 0.3s;
    }
    .nav-btn.active { background:#fce7f3; color:#ec4899; transform:scale(1.1); }
    
    /* Animations */
    @keyframes pulse { 0%,100% { transform:scale(1); } 50% { transform:scale(1.2); } }
    @keyframes bounce { 0%,100% { transform:translateY(0); } 50% { transform:translateY(-25px); } }
    .bounce { animation:bounce 2s infinite; }
    
    /* Games */
    .game-area { position:relative; height:400px; background:linear-gradient(to bottom, #fce7f3, #fdb8d0); border-radius:30px; overflow:hidden; border:10px solid #ec4899; margin:20px 0; }
    .player-heart { position:absolute; bottom:20px; font-size:60px; left:50%; transform:translateX(-50%); transition:left 0.2s; }
    .falling-heart { position:absolute; font-size:45px; animation:fall 4s linear forwards; }
    @keyframes fall { to { transform:translateY(500px); } }
    
    .maze-grid { display:grid; grid-template-columns:repeat(6,1fr); gap:6px; background:#e9d5ff; padding:20px; border-radius:25px; }
    .maze-cell { aspect-ratio:1; background:white; border-radius:15px; display:flex; align-items:center; justify-content:center; font-size:32px; }
    .maze-cell.wall { background:#1f2937 !important; }
    .maze-cell.goal { background:linear-gradient(135deg, #ec4899, #f43f5e) !important; color:white; }
    
    textarea { width:100%; height:350px; padding:25px; border:8px solid #ec4899; border-radius:30px; font-family:cursive; font-size:24px; outline:none; resize:none; }
  </style>
</head>
<body onload="lucide.createIcons(); initAll()">

<!-- LOCK SCREEN -->
<div id="lockScreen" class="lock-screen">
  <div class="container">
    <div class="card">
      <i data-lucide="lock" class="heart-pulse"></i>
      <h1 style="font-size:50px; margin:20px 0; background:linear-gradient(to right,#ec4899,#f43f5e); -webkit-background-clip:text; -webkit-text-fill-color:transparent;">
        Welcome Saraaa ❤️
      </h1>
      <p style="font-size:26px; margin-bottom:30px;">Win 3 games to unlock my heart</p>
      
      <div class="win-hearts">
        <div id="h1" class="win-heart"></div>
        <div id="h2" class="win-heart"></div>
        <div id="h3" class="win-heart"></div>
      </div>
      
      <div class="board" id="ticTacToeBoard"></div>
      
      <div id="status" style="font-size:32px; font-weight:bold; margin:30px 0; color:#ec4899; min-height:50px;"></div>
      
      <button class="btn" onclick="resetTicTacToe()">Play Again</button>
    </div>
  </div>
</div>

<!-- HOME PAGE -->
<div id="homePage" class="hidden">
  <div class="container" style="padding-top:100px; text-align:center;">
    <h1 style="font-size:60px; background:linear-gradient(to right,#ec4899,#f43f5e); -webkit-background-clip:text; -webkit-text-fill-color:transparent;">
      You Did It Saraaa! ❤️
    </h1>
    <i data-lucide="heart" class="heart-pulse bounce" style="width:160px; height:160px; margin:40px 0;"></i>
    <p style="font-size:36px;">You're my forever and always</p>
  </div>
</div>

<!-- MUSIC PAGE -->
<div id="musicPage" class="hidden">
  <div class="container" style="padding-top:100px;">
    <h1 style="text-align:center; font-size:50px; margin-bottom:40px;">Our Love Songs ❤️</h1>
    <div style="max-width:600px; margin:0 auto;">
      <div style="background:linear-gradient(135deg,#ec4899,#f43f5e); color:white; padding:30px; border-radius:30px; margin:20px 0; font-size:28px; cursor:pointer;" onclick="toggleSong(this)">
        <div style="font-weight:bold;">Perfect</div><div>Ed Sheeran</div>
      </div>
      <div style="background:linear-gradient(135deg,#a855f7,#ec4899); color:white; padding:30px; border-radius:30px; margin:20px 0; font-size:28px; cursor:pointer;" onclick="toggleSong(this)">
        <div style="font-weight:bold;">Lover</div><div>Taylor Swift</div>
      </div>
      <div style="background:linear-gradient(135deg,#3b82f6,#a855f7); color:white; padding:30px; border-radius:30px; margin:20px 0; font-size:28px; cursor:pointer;" onclick="toggleSong(this)">
        <div style="font-weight:bold;">All of Me</div><div>John Legend</div>
      </div>
    </div>
  </div>
</div>

<!-- GAMES PAGE -->
<div id="gamesPage" class="hidden">
  <div class="container" style="padding-top:100px;">
    <div style="display:grid; grid-template-columns:1fr 1fr; gap:30px; max-width:1000px; margin:0 auto;">
      <div class="card">
        <h2 style="font-size:40px; margin-bottom:20px;">Collect Hearts</h2>
        <p style="font-size:24px; margin-bottom:20px;">Score: <span id="score">0</span></p>
        <div class="game-area" id="heartGameArea">
          <div class="player-heart">Heart</div>
        </div>
        <button class="btn" onclick="toggleHeartGame()">Start Game</button>
      </div>
      
      <div class="card">
        <h2 style="font-size:40px; margin-bottom:20px;">Love Maze</h2>
        <div class="maze-grid" id="mazeGrid"></div>
        <div style="display:grid; grid-template-columns:repeat(3,1fr); gap:15px; margin-top:30px;">
          <div></div>
          <button class="btn" onclick="moveMaze(0,-1)">Up Arrow</button>
          <div></div>
          <button class="btn" onclick="moveMaze(-1,0)">Left Arrow</button>
          <button class="btn" onclick="resetMaze()">Reset</button>
          <button class="btn" onclick="moveMaze(1,0)">Right Arrow</button>
          <div></div>
          <button class="btn" onclick="moveMaze(0,1)">Down Arrow</button>
          <div></div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- NOTES PAGE -->
<div id="notesPage" class="hidden">
  <div class="container" style="padding-top:100px; max-width:800px; margin:0 auto;">
    <h1 style="text-align:center; font-size:50px; margin-bottom:40px;">Write Your Heart ❤️</h1>
    <div class="card">
      <textarea id="noteText" placeholder="Write anything for me..."></textarea>
      <p style="text-align:right; font-size:28px; font-style:italic; margin:20px 0;">- With love, Saraaa ❤️</p>
      <button class="btn" onclick="downloadNote()">Download as Image</button>
    </div>
  </div>
</div>

<!-- NAVIGATION -->
<div class="nav">
  <button class="nav-btn active" onclick="showPage('home')"><i data-lucide="home"></i></button>
  <button class="nav-btn" onclick="showPage('music')"><i data-lucide="music"></i></button>
  <button class="nav-btn" onclick="showPage('games')"><i data-lucide="gamepad-2"></i></button>
  <button class="nav-btn" onclick="showPage('notes')"><i data-lucide="file-text"></i></button>
</div>

<script>
// All variables
let wins = 0;
let board = Array(9).fill(null);
let isPlayerTurn = true;
let gameOver = false;
let winner = null;

let playerPos = 50;
let fallingHearts = [];
let score = 0;
let heartGameActive = false;

let mazePos = {x: 0, y: 0};
let mazeSolved = false;

const maze = [
  [0,0,1,1,1,1],
  [1,0,0,0,0,1],
  [1,1,1,0,1,1],
  [1,0,0,0,0,0],
  [1,0,1,1,1,0],
  [1,0,0,0,0,2]
];

function initAll() {
  initTicTacToe();
  updateWinHearts();
  initMaze();
}

function initTicTacToe() {
  const boardEl = document.getElementById('ticTacToeBoard');
  boardEl.innerHTML = '';
  board.forEach((cell, i) => {
    const cellEl = document.createElement('div');
    cellEl.className = 'cell';
    if (cell === 'X') cellEl.className += ' X';
    if (cell === 'O') cellEl.className += ' O';
    cellEl.textContent = cell || '';
    cellEl.onclick = () => handleCellClick(i);
    boardEl.appendChild(cellEl);
  });
}

function handleCellClick(i) {
  if (board[i] || gameOver || !isPlayerTurn) return;
  
  board[i] = 'X';
  initTicTacToe();
  
  if (checkWinner('X')) {
    winner = 'X';
    gameOver = true;
    document.getElementById('status').textContent = 'You Won! ❤️';
    wins++;
    updateWinHearts();
    if (wins >= 3) {
      setTimeout(() => {
        document.getElementById('lockScreen').classList.add('hidden');
        showPage('home');
      }, 2000);
    }
    return;
  }
  
  if (board.every(c => c !== null)) {
    gameOver = true;
    document.getElementById('status').textContent = 'Try Again!';
    return;
  }
  
  isPlayerTurn = false;
  setTimeout(aiMove, 600);
}

function aiMove() {
  const empty = board.map((v,i) => v === null ? i : null).filter(v => v !== null);
  if (empty.length > 0) {
    const move = empty[Math.floor(Math.random() * empty.length)];
    board[move] = 'O';
    initTicTacToe();
    
    if (checkWinner('O')) {
      winner = 'O';
      gameOver = true;
      document.getElementById('status').textContent = 'Try Again!';
      wins = 0;
      updateWinHearts();
    }
  }
  isPlayerTurn = true;
}

function checkWinner(player) {
  const lines = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
  return lines.some(line => line.every(i => board[i] === player));
}

function resetTicTacToe() {
  board = Array(9).fill(null);
  isPlayerTurn = true;
  gameOver = false;
  winner = null;
  document.getElementById('status').textContent = '';
  initTicTacToe();
}

function updateWinHearts() {
  for (let i = 1; i <= 3; i++) {
    const heart = document.getElementById('h' + i);
    if (i <= wins) {
      heart.classList.add('filled');
    } else {
      heart.classList.remove('filled');
    }
  }
}

function showPage(page) {
  document.querySelectorAll('#homePage, #musicPage, #gamesPage, #notesPage').forEach(p => p.classList.add('hidden'));
  document.getElementById(page + 'Page').classList.remove('hidden');
  
  document.querySelectorAll('.nav-btn').forEach((btn, i) => {
    btn.classList.remove('active');
    if (['home','music','games','notes'].indexOf(page) === i) {
      btn.classList.add('active');
    }
  });
}

function toggleHeartGame() {
  heartGameActive = !heartGameActive;
  if (!heartGameActive) {
    fallingHearts = [];
    score = 0;
    document.getElementById('score').textContent = '0';
    document.getElementById('heartGameArea').innerHTML = '<div class="player-heart">Heart</div>';
  }
}

// Heart falling game loop
setInterval(() => {
  if (heartGameActive) {
    // Spawn heart
    if (Math.random() < 0.3) {
      fallingHearts.push({
        x: Math.random() * 80 + 10,
        y: -50,
        id: Date.now()
      });
    }
    
    // Update and render
    const area = document.getElementById('heartGameArea');
    fallingHearts = fallingHearts.filter(h => {
      h.y += 5;
      if (h.y > 350 && Math.abs(h.x - playerPos) < 15) {
        score++;
        document.getElementById('score').textContent = score;
        return false;
      }
      return h.y < 450;
    });
    
    // Render hearts
    area.querySelectorAll('.falling-heart').forEach(el => el.remove());
    fallingHearts.forEach(h => {
      const heart = document.createElement('div');
      heart.className = 'falling-heart';
      heart.textContent = 'Heart';
      heart.style.left = h.x + '%';
      heart.style.top = h.y + 'px';
      area.appendChild(heart);
    });
  }
}, 50);

// Arrow key controls
document.addEventListener('keydown', e => {
  if (!heartGameActive) return;
  if (e.key === 'ArrowLeft') playerPos = Math.max(10, playerPos - 8);
  if (e.key === 'ArrowRight') playerPos = Math.min(90, playerPos + 8);
  document.querySelector('.player-heart').style.left = playerPos + '%';
});

function initMaze() {
  const grid = document.getElementById('mazeGrid');
  grid.innerHTML = '';
  maze.forEach((row, y) => {
    row.forEach((cell, x) => {
      const div = document.createElement('div');
      div.className = 'maze-cell';
      if (cell === 1) div.classList.add('wall');
      if (cell === 2) div.classList.add('goal');
      if (x === mazePos.x && y === mazePos.y) div.innerHTML = 'Heart';
      grid.appendChild(div);
    });
  });
}

function moveMaze(dx, dy) {
  const nx = mazePos.x + dx;
  const ny = mazePos.y + dy;
  if (nx >= 0 && nx < 6 && ny >= 0 && ny < 6 && maze[ny][nx] !== 1) {
    mazePos.x = nx;
    mazePos.y = ny;
    initMaze();
    if (maze[ny][nx] === 2) {
      mazeSolved = true;
      alert('You found me! ❤️ We are meant to be forever!');
    }
  }
}

function resetMaze() {
  mazePos = {x: 0, y: 0};
  mazeSolved = false;
  initMaze();
}

function downloadNote() {
  const text = document.getElementById('noteText').value.trim();
  if (!text) return alert('Please write something first ❤️');
  
  const canvas = document.createElement('canvas');
  canvas.width = 800;
  canvas.height = 600;
  const ctx = canvas.getContext('2d');
  
  // Background
  const grad = ctx.createLinearGradient(0, 0, 800, 600);
  grad.addColorStop(0, '#fce7f3');
  grad.addColorStop(1, '#fbcfe8');
  ctx.fillStyle = grad;
  ctx.fillRect(0, 0, 800, 600);
  
  // Title
  ctx.fillStyle = '#ec4899';
  ctx.font = 'bold 50px Arial';
  ctx.fillText('A Message From Saraaa', 80, 100);
  
  // Message
  ctx.fillStyle = '#333';
  ctx.font = '28px cursive';
  const lines = text.split('\n');
  lines.forEach((line, i) => {
    ctx.fillText(line, 100, 180 + i * 60);
  });
  
  // Signature
  ctx.fillStyle = '#ec4899';
  ctx.font = 'italic 40px Arial';
  ctx.fillText('- With all my love ❤️', 100, 500);
  
  // Download
  const a = document.createElement('a');
  a.href = canvas.toDataURL();
  a.download = 'love-from-saraaa.png';
  a.click();
}

function toggleSong(el) {
  el.style.transform = el.style.transform === 'scale(0.95)' ? 'scale(1)' : 'scale(0.95)';
}
</script>

</body>
</html>
